给定一个原数组`[1, 4, 4, 0, 0, 2, 2, 2, 0]`，生成一个新数组，每次原数组发生变化时，新数组对应索引的值也会发生变化。

```python
s = pd.Series([1, 4, 4, 0, 0, 2, 2, 2, 0])
s = s.diff().fillna(0)
s.loc[s != 0] = 1
s = s.cumsum()
print(s.values)
```

```
[0. 1. 1. 2. 2. 3. 3. 3. 4.]
```

