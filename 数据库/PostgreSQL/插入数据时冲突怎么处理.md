```sql
INSERT INTO <table_name>(<column_list>) VALUES(<value_list>)
ON CONFLICT <target> <action>;
```

target

- 字段名
- 约束名
- 带谓语的 WHERE 子句（？）

action：

- DO NOTHING
- DO UPDATE SET column_1 = value_1, ...

https://blog.csdn.net/lixinkuan328/article/details/107231321

https://blog.csdn.net/CoderTnT/article/details/86532321

```sql
insert into tbl   
  select id,id,1,random(),now() from generate_series(1,1000000) t(id)   
  on conflict(c1,c2)   
  do update   
  set   
  c3=excluded.c3,c4=excluded.c4,c5=excluded.c5  
  where  
  tbl.c3 is distinct from excluded.c3 or  
  tbl.c4 is distinct from excluded.c4;  
```

